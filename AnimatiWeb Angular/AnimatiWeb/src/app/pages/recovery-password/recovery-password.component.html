<div class="bg-gradient-custom">
  <div class="container-fluid p-3 mt-5 mb-5 w-50 mx-auto shadow bg-white rounded-3" style="max-width: 20rem; width: 50%;">
    <h2 class="text-center fw-semibold">Recuperar Contraseña</h2>

    <main class="form-signin">
      <form [formGroup]="recoveryForm">
        <p class="text-danger">{{ errorMessage }}</p>
        <p class="text-success">{{ successMessage }}</p>

        <!-- Ingreso de email con ícono de sobre -->
        <div class="input-group mt-3">
          <div class="input-group-text bg-secondary">
            <i class="fas fa-envelope text-white"></i> <!-- Ícono de sobre -->
          </div>
          <input class="form-control" type="email" placeholder="Ingrese su correo electrónico" formControlName="email">
        </div>
        <button type="button" class="btn btn-secondary w-100 mt-3 fw-semibold shadow-sm" (click)="sendVerificationCode()">
          Enviar código
        </button>

        <!-- Ingreso de código recibido -->
        <div class="input-group mt-3" *ngIf="isCodeSent">
          <input class="form-control" type="text" placeholder="Ingrese el código de verificación" formControlName="verificationCode">
        </div>
        <div class="input-group mt-3" *ngIf="isCodeSent">
            <div class="input-group-text bg-secondary">
                <img src="../../assets/img/password-icon.svg" alt="icono-password" class="usu-icon">
            </div>
            <input class="form-control" type="password" placeholder="Nueva contraseña" formControlName="password">
        </div>

        <div class="input-group mt-3" *ngIf="isCodeSent">
            <div class="input-group-text bg-secondary">
                <img src="../../assets/img/password-icon.svg" alt="icono-password" class="usu-icon">
            </div>
            <input class="form-control" type="password" placeholder="Repetir contraseña" formControlName="password2">
        </div>        
        <button type="button" class="btn btn-secondary w-100 mt-3 fw-semibold shadow-sm" (click)="validateCode()" *ngIf="isCodeSent">
          Confirmar cambios
        </button>
      </form>
    </main>

    <!-- Volver al inicio -->
    <div class="mt-3">
      <div class="btn d-flex gap-2 justify-content-center border mt-3 shadow-sm bg-white" (click)="volverAlInicio()">
        <img src="../../assets/img/main-icon.svg" alt="main-icono" class="bi bi-house">
        <div class="fw-semibold text-secondary">Volver al inicio</div>
      </div>
    </div>
  </div>
</div>